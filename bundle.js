!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var o=function(t){var e=document.getElementById("tetris"),n=e.getContext("2d"),o=t[0].length,r=e.width/o;e.width=r*o,e.height=r*o*2;var i=(2*o-t.length)/2;n.clearRect(0,0,r*o,r*o*2),n.fillStyle="black",n.fillRect(0,0,r*o,r*o*2);for(var u=0;u<t.length;u++)for(var c=0;c<t[0].length;c++)n.fillStyle=t[u][c]||"black",n.fillRect(c*r,(u+i-2)*r,r,r),n.strokeStyle=t[u][c]||"black",n.strokeRect(c*r,(u+i-2)*r,r,r)},r=function(t){var e=document.getElementById("tetris"),n=e.getContext("2d"),o=e.width/10;e.width=10*o,e.height=20*o,n.fillStyle="black",n.fillRect(0,0,10*o,20*o),t.forEach(function(e,r){e.initialState.forEach(function(i){n.fillStyle=e.color,n.fillRect(o*(i[1]-e.x+(10-e.width)/2),o*(i[0]-e.y+(19/t.length*(r+1)-e.height)),o,o),n.strokeStyle="black",n.strokeRect(o*(i[1]-e.x+(10-e.width)/2),o*(i[0]-e.y+(19/t.length*(r+1)-e.height)),o,o)})})},i=function(t,e){var n=document.getElementById(e),o=n.getContext("2d"),r=n.width/6;n.width=6*r,n.height=4*r,o.fillStyle="black",o.fillRect(0,0,6*r,4*r);for(var i=t.initialState,u=0;u<i.length;u++)o.fillStyle=t.color,o.fillRect(r*(i[u][1]-t.x+(6-t.width)/2),r*(i[u][0]-t.y+(4-t.height)/2),r,r),o.strokeStyle="black",o.strokeRect(r*(i[u][1]-t.x+(6-t.width)/2),r*(i[u][0]-t.y+(4-t.height)/2),r,r)};function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var c=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.height=n,this.width=o,this.grid=new Array(this.height).fill().map(function(t){return new Array(e.width).fill(0)}),this.currentPiece=void 0,this.currentPos=[],this.currentPosState=void 0}var e,n,o;return e=t,(n=[{key:"setCurrentPiece",value:function(t){this.currentPiece=t,this.currentPos=t.initialState,this.currentPosState=0,this.move("startingPos")}},{key:"setSavedPiece",value:function(t){var e=this;this.currentPos.forEach(function(t){e.grid[t[0]][t[1]]=0}),this.setCurrentPiece(t)}},{key:"move",value:function(t){var e=this.currentPos,n=this.currentPiece.move(t,e);if(this._isValidMove(e,n))this._updateGrid(e,n);else if("down"===t)return!0}},{key:"clearRows",value:function(){var t=this,e=[];return this.currentPos.forEach(function(n){t._isOnGrid(n)&&t.grid[n[0]].every(function(t){return t})&&!e.includes(n[0])&&e.push(n[0])}),e.sort(function(t,e){return t-e}),e.forEach(function(e){t.grid.splice(e,1),t.grid.unshift(new Array(10).fill(0))}),e.length}},{key:"_isValidMove",value:function(t,e){for(var n=0;n<e.length;n++){var o=e[n];if(o[1]<0)return!1;if(o[1]>9)return!1;if(o[0]>20)return!1;if(this._isOnGrid(o)&&this.grid[o[0]][o[1]]&&!this._includesBlock(t,o))return!1}return!0}},{key:"_includesBlock",value:function(t,e){for(var n=0;n<t.length;n++)if(t[n][0]===e[0]&&t[n][1]===e[1])return!0;return!1}},{key:"_isOnGrid",value:function(t){return!!this.grid[t[0]]}},{key:"_drawGrid",value:function(){!function(t){var e=document.getElementById("tetris"),n=e.getContext("2d"),o=e.width/10;e.width=10*o,e.height=20*o,n.clearRect(0,0,10*o,20*o);for(var r=0;r<t.length;r++)for(var i=0;i<t[0].length;i++)n.fillStyle=t[r][i]||"black",n.fillRect(i*o,(r-1)*o,o,o),n.strokeStyle="black",n.strokeRect(i*o,(r-1)*o,o,o)}(this.grid)}},{key:"_updateGrid",value:function(t,e){var n=this;e.forEach(function(t){n._isOnGrid(t)&&(n.grid[t[0]][t[1]]=n.currentPiece.color)}),t.forEach(function(t){n._isOnGrid(t)&&!n._includesBlock(e,t)&&(n.grid[t[0]][t[1]]=0)}),this._drawGrid(),this.currentPos=e}},{key:"rotateClockwise",value:function(){var t=this.currentPos,e=(this.currentPosState+1)%this.currentPiece.numStates,n=this.currentPiece.rotationMap[e],o=t.map(function(t,e){var o=t.slice();return o[0]+=n[e][0],o[1]+=n[e][1],o});this._isValidMove(t,o)&&(this._updateGrid(t,o),this.currentPosState=(this.currentPosState+1)%this.currentPiece.numStates)}},{key:"rotateCounterClockwise",value:function(){var t=this.currentPos,e=this.currentPosState,n=this.currentPiece.rotationMap[e],o=t.map(function(t,e){var o=t.slice();return o[0]-=n[e][0],o[1]-=n[e][1],o});this._isValidMove(t,o)&&(this._updateGrid(t,o),this.currentPosState=(this.currentPosState-1+this.currentPiece.numStates)%this.currentPiece.numStates)}}])&&u(e.prototype,n),o&&u(e,o),t}();function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.actions=e,this.eventHandler=this.eventHandler.bind(this),document.addEventListener("keydown",this.eventHandler)}var e,n,o;return e=t,(n=[{key:"eventHandler",value:function(t){this.actions[t.code]&&this.actions[t.code]()}},{key:"removeEventListener",value:function(){document.removeEventListener("keydown",this.eventHandler)}}])&&f(e.prototype,n),o&&f(e,o),t}(),s=[[0,0,0,0,"#FF0000","#FF0000","#FF0000",0,0,"#FF7F00","#FF7F00",0,0,"#FFFF00","#FFFF00",0,"#FFFF00","#FFFF00",0,"#EE82EE","#EE82EE","#EE82EE",0,0,0],[0,0,0,"#FF0000",0,0,0,0,"#FF7F00",0,0,"#FF7F00",0,"#FFFF00",0,"#FFFF00",0,"#FFFF00",0,"#EE82EE",0,0,0,0,0],[0,0,0,"#FF0000",0,"#FF0000","#FF0000",0,"#FF7F00","#FF7F00","#FF7F00","#FF7F00",0,"#FFFF00",0,"#FFFF00",0,"#FFFF00",0,"#EE82EE","#EE82EE",0,0,0,0],[0,0,0,"#FF0000",0,0,"#FF0000",0,"#FF7F00",0,0,"#FF7F00",0,"#FFFF00",0,0,0,"#FFFF00",0,"#EE82EE",0,0,0,0,0],[0,0,0,"#FF0000","#FF0000","#FF0000","#FF0000",0,"#FF7F00",0,0,"#FF7F00",0,"#FFFF00",0,0,0,"#FFFF00",0,"#EE82EE","#EE82EE","#EE82EE",0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,"#00FF00","#00FF00",0,0,"#0000FF",0,"#0000FF",0,"#EE82EE","#EE82EE","#EE82EE",0,"#4B0082","#4B0082","#4B0082","#4B0082",0,"#FFFFFF",0,0,0],[0,0,0,"#00FF00",0,0,"#00FF00",0,"#0000FF",0,"#0000FF",0,"#EE82EE",0,0,0,"#4B0082",0,0,"#4B0082",0,"#FFFFFF",0,0,0],[0,0,0,"#00FF00",0,0,"#00FF00",0,"#0000FF",0,"#0000FF",0,"#EE82EE","#EE82EE",0,0,"#4B0082","#4B0082","#4B0082","#4B0082",0,"#FFFFFF",0,0,0],[0,0,0,"#00FF00",0,0,"#00FF00",0,"#0000FF",0,"#0000FF",0,"#EE82EE",0,0,0,"#4B0082",0,"#4B0082",0,0,0,0,0,0],[0,0,0,0,"#00FF00","#00FF00",0,0,0,"#0000FF",0,0,"#EE82EE","#EE82EE","#EE82EE",0,"#4B0082",0,0,"#4B0082",0,"#FFFFFF",0,0,0]],l=[[0,0,0,"#FF0000","#FF0000","#FF0000","#FF0000",0,0,"#FF7F00","#FF7F00",0,0,"#FFFF00",0,0,"#FFFF00",0,"#00FF00","#00FF00","#00FF00","#00FF00",0,"#EE82EE","#EE82EE","#EE82EE","#EE82EE",0,"#0000FF","#0000FF","#0000FF",0,0,"#ffffff",0,0,0],[0,0,0,"#FF0000",0,0,"#FF0000",0,"#FF7F00",0,0,"#FF7F00",0,"#FFFF00",0,0,"#FFFF00",0,"#00FF00",0,0,0,0,"#EE82EE",0,0,0,0,"#0000FF",0,0,"#0000FF",0,"#ffffff",0,0,0],[0,0,0,"#FF0000","#FF0000","#FF0000","#FF0000",0,"#FF7F00","#ff7f00","#ff7f00","#FF7F00",0,"#FFFF00",0,0,"#FFFF00",0,"#00FF00","#00FF00","#00FF00","#00FF00",0,"#EE82EE","#EE82EE","#EE82EE",0,0,"#0000FF",0,0,"#0000FF",0,"#ffffff",0,0,0],[0,0,0,"#FF0000",0,0,0,0,"#FF7F00",0,0,"#FF7F00",0,"#FFFF00",0,0,"#FFFF00",0,0,0,0,"#00FF00",0,"#EE82EE",0,0,0,0,"#0000FF",0,0,"#0000FF",0,0,0,0,0],[0,0,0,"#FF0000",0,0,0,0,"#FF7F00",0,0,"#FF7F00",0,"#FFFF00","#FFFF00","#FFFF00","#FFFF00",0,"#00FF00","#00FF00","#00FF00","#00FF00",0,"#EE82EE","#EE82EE","#EE82EE","#EE82EE",0,"#0000FF","#0000FF","#0000FF",0,0,"#ffffff",0,0,0]];function y(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var p=function(){function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.board=o,this.difficulty=n,this.pieces=e,this.score=0,this.level=1,this.bag=[],this.timeOut=null,this._fillAndShuffleBag(),this.swapped=!1,this.savedPiece=this.bag.shift(),this.currentPiece=null,this.nextPiece=this.bag.shift(),this.keyMap=null,this.rowsCleared=0,this._tick=this._tick.bind(this)}var e,n,r;return e=t,(n=[{key:"play",value:function(){this._setKeyMap(),this._setNextPiece(),i(this.savedPiece,"saved-piece")}},{key:"pause",value:function(){var t=document.getElementById("play");"Pause"===t.innerText?(clearTimeout(this.timeOut),t.innerText="Resume",this.keyMap.removeEventListener(),this.keyMap=new a(this._pauseKeys()),o(l)):(this.keyMap.removeEventListener(),this.keyMap=new a(this._keys()),this.board._drawGrid(),t.innerText="Pause",this.timeOut=setTimeout(this._tick,75*(11-this.level)))}},{key:"_pauseKeys",value:function(){var t=this;return{KeyP:function(){return t.pause()}}}},{key:"_keys",value:function(){var t=this;return{KeyZ:function(){t.board.rotateCounterClockwise()},KeyX:function(){return t.board.rotateClockwise()},KeyP:function(){return t.pause()},KeyS:function(){return t._setSavedPiece()},ArrowUp:function(){return t.board.rotateClockwise()},ArrowDown:function(){return t.move("down")},ArrowLeft:function(){return t.move("left")},ArrowRight:function(){return t.move("right")}}}},{key:"_setKeyMap",value:function(){this.keyMap=new a(this._keys())}},{key:"move",value:function(t){this.board.move(t)&&this._freezePiece()}},{key:"_setNextPiece",value:function(){this.board.setCurrentPiece(this.nextPiece),this.currentPiece=this.nextPiece,this.nextPiece=this.bag.shift(),i(this.nextPiece,"next-piece"),this.swapped=!1,this._tick(),0===this.bag.length&&this._fillAndShuffleBag()}},{key:"_setSavedPiece",value:function(){if(!this.swapped){this.board.setSavedPiece(this.savedPiece);var t=this.savedPiece;this.savedPiece=this.currentPiece,this.currentPiece=t,this.swapped=!0,i(this.savedPiece,"saved-piece")}}},{key:"_clearRows",value:function(){var t=this.board.clearRows();return this.rowsCleared+=t,document.getElementById("rows").innerHTML=this.rowsCleared,t}},{key:"_setScore",value:function(t){this.score+=25*this.level*Math.pow(2,t);var e=this.score.toString();document.getElementById("score").innerHTML=e}},{key:"_updateLevel",value:function(){this.level<10&&(this.level=Math.floor(this.rowsCleared/10)+this.difficulty),document.getElementById("level").innerHTML=this.level}},{key:"_freezePiece",value:function(){clearTimeout(this.timeOut);var t=this._clearRows();this._setScore(t),this._updateLevel(),this._gameOver()?console.log("GameOver"):this._setNextPiece()}},{key:"_tick",value:function(){this.board.move("down")?this._freezePiece():this.timeOut=setTimeout(this._tick,75*(11-this.level))}},{key:"_gameOver",value:function(){var t=this.board.grid[0].some(function(t){return t});t&&(this.keyMap.removeEventListener(),document.getElementById("play").innerText="Play",o(s));return t}},{key:"_fillAndShuffleBag",value:function(){for(var t=[],e=0;e<4;e++)t=t.concat(this.pieces);for(var n=t.length-1;n>=0;n--){var o=Math.floor(Math.random()*n),r=[t[o],t[n]];t[n]=r[0],t[o]=r[1]}this.bag=t}}])&&y(e.prototype,n),r&&y(e,r),t}();function h(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var F={right:{idx:1,shift:1},left:{idx:1,shift:-1},down:{idx:0,shift:1},startingPos:{idx:1,shift:5}},b=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.color=e}var e,n,o;return e=t,(n=[{key:"move",value:function(t,e){return e.map(function(e){var n=e.slice(),o=F[t],r=o.idx,i=o.shift;return n[r]+=i,n})}}])&&h(e.prototype,n),o&&h(e,o),t}();function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function E(t,e){return(E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=m(this,v(e).call(this,t))).height=2,n.width=2,n.x=-1,n.y=-1,n.initialState=[[-1,-1],[-1,0],[0,0],[0,-1]],n.numStates=1,n.rotationMap={0:[[0,0],[0,0],[0,0],[0,0]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}(e,b),e}();function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){return!e||"object"!==_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var P=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=S(this,O(e).call(this,t))).height=2,n.width=3,n.x=-1,n.y=-1,n.initialState=[[-1,-1],[-1,0],[-1,1],[0,-1]],n.numStates=4,n.rotationMap={0:[[-1,-1],[0,0],[1,1],[0,-2]],1:[[-1,1],[0,0],[1,-1],[-2,0]],2:[[2,1],[1,0],[0,-1],[1,2]],3:[[0,-1],[-1,0],[-2,1],[1,0]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(e,b),e}();function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){return!e||"object"!==j(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var M=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=k(this,x(e).call(this,t))).height=2,n.width=3,n.x=-1,n.y=-1,n.initialState=[[-1,-1],[-1,0],[-1,1],[0,1]],n.numStates=4,n.rotationMap={0:[[-1,-1],[0,0],[1,1],[2,0]],1:[[-1,1],[0,0],[1,-1],[0,-2]],2:[[2,1],[1,0],[0,-1],[-1,0]],3:[[0,-1],[-1,0],[-2,1],[-1,2]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&T(t,e)}(e,b),e}();function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t,e){return!e||"object"!==C(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var I=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=B(this,R(e).call(this,t))).height=1,n.width=4,n.x=-2,n.y=0,n.initialState=[[0,-2],[0,-1],[0,0],[0,1]],n.numStates=2,n.rotationMap={0:[[2,-2],[1,-1],[0,0],[-1,1]],1:[[-2,2],[-1,1],[0,0],[1,-1]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(e,b),e}();function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){return!e||"object"!==G(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function H(t,e){return(H=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var N=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=A(this,K(e).call(this,t))).height=2,n.width=3,n.x=-1,n.y=-1,n.initialState=[[0,-1],[0,0],[-1,0],[-1,1]],n.numStates=2,n.rotationMap={0:[[0,-2],[1,-1],[0,0],[1,1]],1:[[0,2],[-1,1],[0,0],[-1,-1]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H(t,e)}(e,b),e}();function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){return!e||"object"!==V(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function D(t){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function U(t,e){return(U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var X=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=z(this,D(e).call(this,t))).height=2,n.width=3,n.x=-1,n.y=-1,n.initialState=[[0,1],[0,0],[-1,0],[-1,-1]],n.numStates=2,n.rotationMap={0:[[0,2],[1,1],[0,0],[1,-1]],1:[[0,-2],[-1,-1],[0,0],[-1,1]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U(t,e)}(e,b),e}();function Z(t){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e){return!e||"object"!==Z(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function J(t){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Q(t,e){return(Q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var W=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=q(this,J(e).call(this,t))).height=2,n.width=3,n.x=-1,n.y=-1,n.initialState=[[-1,-1],[-1,0],[-1,1],[0,0]],n.numStates=4,n.rotationMap={0:[[-1,-1],[0,0],[1,1],[1,-1]],1:[[-1,1],[0,0],[1,-1],[-1,-1]],2:[[1,1],[0,0],[-1,-1],[-1,1]],3:[[1,-1],[0,0],[-1,1],[1,1]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q(t,e)}(e,b),e}();function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,e){return!e||"object"!==Y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tt(t){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function et(t,e){return(et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var nt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=$(this,tt(e).call(this,t))).height=2,n.width=4,n.x=-2,n.y=-1,n.initialState=[[0,-2],[0,-1],[0,0],[0,1],[-1,0]],n.numStates=4,n.rotationMap={0:[[0,-2],[1,-1],[2,0],[3,1],[1,1]],1:[[-3,1],[-2,0],[-1,-1],[0,-2],[0,0]],2:[[2,2],[1,1],[0,0],[-1,-1],[1,-1]],3:[[1,-1],[0,0],[-1,1],[-2,2],[-2,0]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&et(t,e)}(e,b),e}();function ot(t){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rt(t,e){return!e||"object"!==ot(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function it(t){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ut(t,e){return(ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ct=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=rt(this,it(e).call(this,t))).height=2,n.width=4,n.x=-2,n.y=-1,n.initialState=[[0,-2],[0,-1],[0,0],[0,1],[-1,-1]],n.numStates=4,n.rotationMap={0:[[0,-2],[1,-1],[2,0],[3,1],[0,0]],1:[[-3,1],[-2,0],[-1,-1],[0,-2],[-1,1]],2:[[2,2],[1,1],[0,0],[-1,-1],[2,0]],3:[[1,-1],[0,0],[-1,1],[-2,2],[-1,-1]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ut(t,e)}(e,b),e}();function ft(t){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function at(t,e){return!e||"object"!==ft(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lt(t,e){return(lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var yt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=at(this,st(e).call(this,t))).height=3,n.width=3,n.x=-1,n.y=-2,n.initialState=[[-2,-1],[-1,-1],[-1,0],[0,0],[0,1]],n.numStates=4,n.rotationMap={0:[[-2,0],[-1,-1],[0,0],[1,-1],[2,0]],1:[[0,2],[-1,1],[0,0],[-1,-1],[0,-2]],2:[[2,0],[1,1],[0,0],[-1,1],[-2,0]],3:[[0,-2],[1,-1],[0,0],[1,1],[0,2]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lt(t,e)}(e,b),e}();function pt(t){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ht(t,e){return!e||"object"!==pt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ft(t){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bt(t,e){return(bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var dt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=ht(this,Ft(e).call(this,t))).height=1,n.width=5,n.x=-2,n.y=0,n.initialState=[[0,-2],[0,-1],[0,0],[0,1],[0,2]],n.numStates=2,n.rotationMap={0:[[2,-2],[1,-1],[0,0],[-1,1],[-2,2]],1:[[-2,2],[-1,1],[0,0],[1,-1],[2,-2]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bt(t,e)}(e,b),e}();function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vt(t,e){return!e||"object"!==mt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Et(t){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wt(t,e){return(wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _t=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=vt(this,Et(e).call(this,t))).height=2,n.width=3,n.x=-1,n.y=-1,n.initialState=[[-1,0],[-1,-1],[0,0],[0,-1],[0,1]],n.numStates=4,n.rotationMap={3:[[-1,-1],[0,-2],[0,0],[1,-1],[-1,1]],0:[[0,1],[-1,0],[1,0],[0,-1],[2,1]],1:[[0,0],[-1,1],[-1,-1],[-2,0],[0,-2]],2:[[1,0],[2,1],[0,1],[1,2],[-1,0]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wt(t,e)}(e,b),e}();function St(t){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ot(t,e){return!e||"object"!==St(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gt(t){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pt(t,e){return(Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var jt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Ot(this,gt(e).call(this,t))).height=2,n.width=3,n.x=-1,n.y=-1,n.initialState=[[-1,0],[-1,-1],[0,0],[0,-1],[-1,1]],n.numStates=4,n.rotationMap={3:[[-1,-1],[0,-2],[0,0],[1,-1],[-2,0]],0:[[0,1],[-1,0],[1,0],[0,-1],[1,2]],1:[[0,0],[-1,1],[-1,-1],[-2,0],[1,-1]],2:[[1,0],[2,1],[0,1],[1,2],[0,-1]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)}(e,b),e}();function kt(t){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xt(t,e){return!e||"object"!==kt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Tt(t){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Mt(t,e){return(Mt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ct=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=xt(this,Tt(e).call(this,t))).height=2,n.width=4,n.x=-2,n.y=-1,n.initialState=[[0,-2],[0,-1],[-1,-1],[-1,0],[-1,1]],n.numStates=4,n.rotationMap={0:[[0,-2],[1,-1],[0,0],[1,1],[2,2]],1:[[-3,1],[-2,0],[-1,1],[0,0],[1,-1]],2:[[2,2],[1,1],[2,0],[1,-1],[0,-2]],3:[[1,-1],[0,0],[-1,-1],[-2,0],[-3,1]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mt(t,e)}(e,b),e}();function Bt(t){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rt(t,e){return!e||"object"!==Bt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Lt(t){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function It(t,e){return(It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Gt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Rt(this,Lt(e).call(this,t))).height=2,n.width=4,n.x=-2,n.y=-1,n.initialState=[[-1,-2],[-1,-1],[-1,0],[0,0],[0,1]],n.numStates=4,n.rotationMap={0:[[-1,-1],[0,0],[1,1],[2,0],[3,1]],1:[[-2,2],[-1,1],[0,0],[-1,-1],[0,-2]],2:[[3,1],[2,0],[1,-1],[0,0],[-1,-1]],3:[[0,-2],[-1,-1],[-2,0],[-1,1],[-2,2]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&It(t,e)}(e,b),e}(),At=new I("#FF0000"),Kt=new W("#FF7F00"),Ht=new w("#FFFF00"),Nt=new P("#00FF00"),Vt=new M("#0000FF"),zt=new N("#4b0082"),Dt=new X("#EE82EE"),Ut=new dt("#FF0000"),Xt=new _t("#FF7F00"),Zt=new jt("#FFFF00"),qt=new nt("#00FF00"),Jt=new ct("#0000FF"),Qt=new Ct("#4b0082"),Wt=new Gt("#EE82EE"),Yt=new yt("#9400D3"),$t={classic:[At,Kt,Ht,Nt,Vt,zt,Dt],pentris:[Ut,Xt,Zt,qt,Jt,Qt,Wt,Yt],combo:[At,Kt,Ht,qt,Jt,Qt,Wt,Yt]};document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("play"),e=document.getElementById("classic"),n=document.getElementById("pentris"),o=document.getElementById("combo"),u=new p($t.classic,1),c=function(e){"Play"===t.innerText&&(document.getElementsByClassName("selected")[0].className="game-selection-button",e.target.className="selected",i($t[e.target.id][0],"saved-piece"),i($t[e.target.id][4],"next-piece"),r($t[e.target.id]))};t.addEventListener("click",function(t){var e=document.getElementById("play");if("Play"===e.innerText){var n=document.getElementsByClassName("selected")[0];(u=new p($t[n.id],1)).play(),e.innerText="Pause"}else u.pause()}),e.addEventListener("click",c),n.addEventListener("click",c),o.addEventListener("click",c),r($t.classic),i($t.classic[0],"saved-piece"),i($t.classic[4],"next-piece")})}]);
//# sourceMappingURL=bundle.js.map