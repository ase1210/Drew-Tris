!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var o=function(t){var e=document.getElementById("tetris"),n=e.getContext("2d"),o=e.width/10;e.width=10*o,e.height=20*o,n.fillStyle="black",n.fillRect(0,0,10*o,20*o),t.forEach(function(e,r){e.initialState.forEach(function(i){n.fillStyle=e.color,n.fillRect(o*(i[1]-e.x+(10-e.width)/2),o*(i[0]-e.y+(19/t.length*(r+1)-e.height)),o,o),n.strokeStyle="black",n.strokeRect(o*(i[1]-e.x+(10-e.width)/2),o*(i[0]-e.y+(19/t.length*(r+1)-e.height)),o,o)})})},r=function(t,e){var n=document.getElementById(e),o=n.getContext("2d"),r=n.width/6;n.width=6*r,n.height=4*r,o.fillStyle="black",o.fillRect(0,0,6*r,4*r);for(var i=t.initialState,u=0;u<i.length;u++)o.fillStyle=t.color,o.fillRect(r*(i[u][1]-t.x+(6-t.width)/2),r*(i[u][0]-t.y+(4-t.height)/2),r,r),o.strokeStyle="black",o.strokeRect(r*(i[u][1]-t.x+(6-t.width)/2),r*(i[u][0]-t.y+(4-t.height)/2),r,r)};function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var u=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.height=n,this.width=o,this.grid=new Array(this.height).fill().map(function(t){return new Array(e.width).fill(0)}),this.currentPiece=void 0,this.currentPos=[],this.currentPosState=void 0}var e,n,o;return e=t,(n=[{key:"setCurrentPiece",value:function(t){this.currentPiece=t,this.currentPos=t.initialState,this.currentPosState=0,this.move("startingPos")}},{key:"setSavedPiece",value:function(t){var e=this;this.currentPos.forEach(function(t){e.grid[t[0]][t[1]]=0}),this.setCurrentPiece(t)}},{key:"move",value:function(t){var e=this.currentPos,n=this.currentPiece.move(t,e);if(this._isValidMove(e,n))this._updateGrid(e,n);else if("down"===t)return!0}},{key:"clearRows",value:function(){var t=this,e=[];return this.currentPos.forEach(function(n){t._isOnGrid(n)&&t.grid[n[0]].every(function(t){return t})&&!e.includes(n[0])&&e.push(n[0])}),e.sort(function(t,e){return t-e}),e.forEach(function(e){t.grid.splice(e,1),t.grid.unshift(new Array(10).fill(0))}),e.length}},{key:"_isValidMove",value:function(t,e){for(var n=0;n<e.length;n++){var o=e[n];if(o[1]<0)return!1;if(o[1]>9)return!1;if(o[0]>20)return!1;if(this._isOnGrid(o)&&this.grid[o[0]][o[1]]&&!this._includesBlock(t,o))return!1}return!0}},{key:"_includesBlock",value:function(t,e){for(var n=0;n<t.length;n++)if(t[n][0]===e[0]&&t[n][1]===e[1])return!0;return!1}},{key:"_isOnGrid",value:function(t){return!!this.grid[t[0]]}},{key:"_drawGrid",value:function(){!function(t){var e=document.getElementById("tetris"),n=e.getContext("2d"),o=e.width/10;e.width=10*o,e.height=20*o,n.clearRect(0,0,10*o,20*o);for(var r=0;r<t.length;r++)for(var i=0;i<t[0].length;i++)n.fillStyle=t[r][i]||"black",n.fillRect(i*o,(r-1)*o,o,o),n.strokeStyle="black",n.strokeRect(i*o,(r-1)*o,o,o)}(this.grid)}},{key:"_updateGrid",value:function(t,e){var n=this;e.forEach(function(t){n._isOnGrid(t)&&(n.grid[t[0]][t[1]]=n.currentPiece.color)}),t.forEach(function(t){n._isOnGrid(t)&&!n._includesBlock(e,t)&&(n.grid[t[0]][t[1]]=0)}),this._drawGrid(),this.currentPos=e}},{key:"rotateClockwise",value:function(){var t=this.currentPos,e=(this.currentPosState+1)%this.currentPiece.numStates,n=this.currentPiece.rotationMap[e],o=t.map(function(t,e){var o=t.slice();return o[0]+=n[e][0],o[1]+=n[e][1],o});this._isValidMove(t,o)&&(this._updateGrid(t,o),this.currentPosState=(this.currentPosState+1)%this.currentPiece.numStates)}},{key:"rotateCounterClockwise",value:function(){var t=this.currentPos,e=this.currentPosState,n=this.currentPiece.rotationMap[e],o=t.map(function(t,e){var o=t.slice();return o[0]-=n[e][0],o[1]-=n[e][1],o});this._isValidMove(t,o)&&(this._updateGrid(t,o),this.currentPosState=(this.currentPosState-1+this.currentPiece.numStates)%this.currentPiece.numStates)}}])&&i(e.prototype,n),o&&i(e,o),t}();function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var f=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.actions=e,this.eventHandler=this.eventHandler.bind(this),document.addEventListener("keydown",this.eventHandler)}var e,n,o;return e=t,(n=[{key:"eventHandler",value:function(t){this.actions[t.code]&&this.actions[t.code]()}},{key:"removeEventListener",value:function(){document.removeEventListener("keydown",this.eventHandler)}}])&&c(e.prototype,n),o&&c(e,o),t}();function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=function(){function t(e,n,o){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.board=r,this.difficulty=n,this.colors=o,this.pieces=e,this.score=0,this.level=1,this.bag=[],this.timeOut=null,this._fillAndShuffleBag(),this.swapped=!1,this.savedPiece=this.bag.shift(),this.currentPiece=null,this.nextPiece=this.bag.shift(),this.keyMap=null,this.rowsCleared=0,this._tick=this._tick.bind(this)}var e,n,o;return e=t,(n=[{key:"play",value:function(){this._setKeyMap(),this._setNextPiece(),r(this.savedPiece,"saved-piece")}},{key:"pause",value:function(){var t=document.getElementById("play");"Pause"===t.innerText?(clearTimeout(this.timeOut),t.innerText="Resume",this.keyMap.removeEventListener(),this.keyMap=new f(this._pauseKeys())):(this.keyMap.removeEventListener(),this.keyMap=new f(this._keys()),t.innerText="Pause",this.timeOut=setTimeout(this._tick,75*(11-this.level)))}},{key:"_pauseKeys",value:function(){var t=this;return{KeyP:function(){return t.pause()}}}},{key:"_keys",value:function(){var t=this;return{KeyZ:function(){t.board.rotateCounterClockwise()},KeyX:function(){return t.board.rotateClockwise()},KeyP:function(){return t.pause()},KeyS:function(){return t._setSavedPiece()},ArrowUp:function(){return t.board.rotateClockwise()},ArrowDown:function(){return t.move("down")},ArrowLeft:function(){return t.move("left")},ArrowRight:function(){return t.move("right")}}}},{key:"_setKeyMap",value:function(){this.keyMap=new f(this._keys())}},{key:"move",value:function(t){this.board.move(t)&&this._freezePiece()}},{key:"_setNextPiece",value:function(){this.board.setCurrentPiece(this.nextPiece),this.currentPiece=this.nextPiece,this.nextPiece=this.bag.shift(),r(this.nextPiece,"next-piece"),this.swapped=!1,this._tick(),0===this.bag.length&&this._fillAndShuffleBag()}},{key:"_setSavedPiece",value:function(){if(!this.swapped){this.board.setSavedPiece(this.savedPiece);var t=this.savedPiece;this.savedPiece=this.currentPiece,this.currentPiece=t,this.swapped=!0,r(this.savedPiece,"saved-piece")}}},{key:"_clearRows",value:function(){var t=this.board.clearRows();return this.rowsCleared+=t,document.getElementById("rows").innerHTML=this.rowsCleared,t}},{key:"_setScore",value:function(t){this.score+=25*this.level*Math.pow(2,t);var e=this.score.toString();document.getElementById("score").innerHTML=e}},{key:"_updateLevel",value:function(){this.level<10&&(this.level=Math.floor(this.rowsCleared/10)+this.difficulty),document.getElementById("level").innerHTML=this.level}},{key:"_freezePiece",value:function(){clearTimeout(this.timeOut);var t=this._clearRows();this._setScore(t),this._updateLevel(),this._gameOver()?console.log("GameOver"):this._setNextPiece()}},{key:"_tick",value:function(){this.board.move("down")?this._freezePiece():this.timeOut=setTimeout(this._tick,75*(11-this.level))}},{key:"_gameOver",value:function(){var t=this.board.grid[0].some(function(t){return t});t&&(this.keyMap.removeEventListener(),document.getElementById("play").innerText="Play");return t}},{key:"_fillAndShuffleBag",value:function(){for(var t=[],e=0;e<4;e++)t=t.concat(this.pieces);for(var n=t.length-1;n>=0;n--){var o=Math.floor(Math.random()*n),r=[t[o],t[n]];t[n]=r[0],t[o]=r[1]}this.bag=t}}])&&a(e.prototype,n),o&&a(e,o),t}();function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var y={right:{idx:1,shift:1},left:{idx:1,shift:-1},down:{idx:0,shift:1},startingPos:{idx:1,shift:5}},p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.color=e}var e,n,o;return e=t,(n=[{key:"move",value:function(t,e){return e.map(function(e){var n=e.slice(),o=y[t],r=o.idx,i=o.shift;return n[r]+=i,n})}}])&&l(e.prototype,n),o&&l(e,o),t}();function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=b(this,d(e).call(this,t))).height=2,n.width=2,n.x=-1,n.y=-1,n.initialState=[[-1,-1],[-1,0],[0,0],[0,-1]],n.numStates=1,n.rotationMap={0:[[0,0],[0,0],[0,0],[0,0]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(e,p),e}();function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){return!e||"object"!==w(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=_(this,O(e).call(this,t))).height=2,n.width=3,n.x=-1,n.y=-1,n.initialState=[[-1,-1],[-1,0],[-1,1],[0,-1]],n.numStates=4,n.rotationMap={0:[[-1,-1],[0,0],[1,1],[0,-2]],1:[[-1,1],[0,0],[1,-1],[-2,0]],2:[[2,1],[1,0],[0,-1],[1,2]],3:[[0,-1],[-1,0],[-2,1],[1,0]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(e,p),e}();function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var x=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=j(this,E(e).call(this,t))).height=2,n.width=3,n.x=-1,n.y=-1,n.initialState=[[-1,-1],[-1,0],[-1,1],[0,1]],n.numStates=4,n.rotationMap={0:[[-1,-1],[0,0],[1,1],[2,0]],1:[[-1,1],[0,0],[1,-1],[0,-2]],2:[[2,1],[1,0],[0,-1],[-1,0]],3:[[0,-1],[-1,0],[-2,1],[-1,2]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(e,p),e}();function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M(t,e){return!e||"object"!==T(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function F(t,e){return(F=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var R=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=M(this,C(e).call(this,t))).height=1,n.width=4,n.x=-2,n.y=0,n.initialState=[[0,-2],[0,-1],[0,0],[0,1]],n.numStates=2,n.rotationMap={0:[[2,-2],[1,-1],[0,0],[-1,1]],1:[[-2,2],[-1,1],[0,0],[1,-1]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F(t,e)}(e,p),e}();function B(t){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){return!e||"object"!==B(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var A=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=L(this,I(e).call(this,t))).height=2,n.width=3,n.x=-1,n.y=-1,n.initialState=[[0,-1],[0,0],[-1,0],[-1,1]],n.numStates=2,n.rotationMap={0:[[0,-2],[1,-1],[0,0],[1,1]],1:[[0,2],[-1,1],[0,0],[-1,-1]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(e,p),e}();function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){return!e||"object"!==K(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var V=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=H(this,N(e).call(this,t))).height=2,n.width=3,n.x=-1,n.y=-1,n.initialState=[[0,1],[0,0],[-1,0],[-1,-1]],n.numStates=2,n.rotationMap={0:[[0,2],[1,1],[0,0],[1,-1]],1:[[0,-2],[-1,-1],[0,0],[-1,1]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(e,p),e}();function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U(t,e){return!e||"object"!==z(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function X(t){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var q=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=U(this,X(e).call(this,t))).height=2,n.width=3,n.x=-1,n.y=-1,n.initialState=[[-1,-1],[-1,0],[-1,1],[0,0]],n.numStates=4,n.rotationMap={0:[[-1,-1],[0,0],[1,1],[1,-1]],1:[[-1,1],[0,0],[1,-1],[-1,-1]],2:[[1,1],[0,0],[-1,-1],[-1,1]],3:[[1,-1],[0,0],[-1,1],[1,1]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(e,p),e}();function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q(t,e){return!e||"object"!==J(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Y(t,e){return(Y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Q(this,W(e).call(this,t))).height=2,n.width=4,n.x=-2,n.y=-1,n.initialState=[[0,-2],[0,-1],[0,0],[0,1],[-1,0]],n.numStates=4,n.rotationMap={0:[[0,-2],[1,-1],[2,0],[3,1],[1,1]],1:[[-3,1],[-2,0],[-1,-1],[0,-2],[0,0]],2:[[2,2],[1,1],[0,0],[-1,-1],[1,-1]],3:[[1,-1],[0,0],[-1,1],[-2,2],[-2,0]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y(t,e)}(e,p),e}();function tt(t){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(t,e){return!e||"object"!==tt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ot(t,e){return(ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var rt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=et(this,nt(e).call(this,t))).height=2,n.width=4,n.x=-2,n.y=-1,n.initialState=[[0,-2],[0,-1],[0,0],[0,1],[-1,-1]],n.numStates=4,n.rotationMap={0:[[0,-2],[1,-1],[2,0],[3,1],[0,0]],1:[[-3,1],[-2,0],[-1,-1],[0,-2],[-1,1]],2:[[2,2],[1,1],[0,0],[-1,-1],[2,0]],3:[[1,-1],[0,0],[-1,1],[-2,2],[-1,-1]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ot(t,e)}(e,p),e}();function it(t){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ut(t,e){return!e||"object"!==it(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ct(t){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ft(t,e){return(ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var at=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=ut(this,ct(e).call(this,t))).height=3,n.width=3,n.x=-1,n.y=-2,n.initialState=[[-2,-1],[-1,-1],[-1,0],[0,0],[0,1]],n.numStates=4,n.rotationMap={0:[[-2,0],[-1,-1],[0,0],[1,-1],[2,0]],1:[[0,2],[-1,1],[0,0],[-1,-1],[0,-2]],2:[[2,0],[1,1],[0,0],[-1,1],[-2,0]],3:[[0,-2],[1,-1],[0,0],[1,1],[0,2]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ft(t,e)}(e,p),e}();function st(t){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lt(t,e){return!e||"object"!==st(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yt(t){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pt(t,e){return(pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ht=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=lt(this,yt(e).call(this,t))).height=1,n.width=5,n.x=-2,n.y=0,n.initialState=[[0,-2],[0,-1],[0,0],[0,1],[0,2]],n.numStates=2,n.rotationMap={0:[[2,-2],[1,-1],[0,0],[-1,1],[-2,2]],1:[[-2,2],[-1,1],[0,0],[1,-1],[2,-2]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pt(t,e)}(e,p),e}();function bt(t){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dt(t,e){return!e||"object"!==bt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mt(t){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vt(t,e){return(vt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var wt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=dt(this,mt(e).call(this,t))).height=2,n.width=3,n.x=-1,n.y=-1,n.initialState=[[-1,0],[-1,-1],[0,0],[0,-1],[0,1]],n.numStates=4,n.rotationMap={3:[[-1,-1],[0,-2],[0,0],[1,-1],[-1,1]],0:[[0,1],[-1,0],[1,0],[0,-1],[2,1]],1:[[0,0],[-1,1],[-1,-1],[-2,0],[0,-2]],2:[[1,0],[2,1],[0,1],[1,2],[-1,0]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vt(t,e)}(e,p),e}();function _t(t){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ot(t,e){return!e||"object"!==_t(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function St(t){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gt(t,e){return(gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Pt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Ot(this,St(e).call(this,t))).height=2,n.width=3,n.x=-1,n.y=-1,n.initialState=[[-1,0],[-1,-1],[0,0],[0,-1],[-1,1]],n.numStates=4,n.rotationMap={3:[[-1,-1],[0,-2],[0,0],[1,-1],[-2,0]],0:[[0,1],[-1,0],[1,0],[0,-1],[1,2]],1:[[0,0],[-1,1],[-1,-1],[-2,0],[1,-1]],2:[[1,0],[2,1],[0,1],[1,2],[0,-1]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gt(t,e)}(e,p),e}();function jt(t){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Et(t,e){return!e||"object"!==jt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kt(t){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xt(t,e){return(xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Tt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Et(this,kt(e).call(this,t))).height=2,n.width=4,n.x=-2,n.y=-1,n.initialState=[[0,-2],[0,-1],[-1,-1],[-1,0],[-1,1]],n.numStates=4,n.rotationMap={0:[[0,-2],[1,-1],[0,0],[1,1],[2,2]],1:[[-3,1],[-2,0],[-1,1],[0,0],[1,-1]],2:[[2,2],[1,1],[2,0],[1,-1],[0,-2]],3:[[1,-1],[0,0],[-1,-1],[-2,0],[-3,1]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xt(t,e)}(e,p),e}();function Mt(t){return(Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ct(t,e){return!e||"object"!==Mt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ft(t){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Rt(t,e){return(Rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Bt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=Ct(this,Ft(e).call(this,t))).height=2,n.width=4,n.x=-2,n.y=-1,n.initialState=[[-1,-2],[-1,-1],[-1,0],[0,0],[0,1]],n.numStates=4,n.rotationMap={0:[[-1,-1],[0,0],[1,1],[2,0],[3,1]],1:[[-2,2],[-1,1],[0,0],[-1,-1],[0,-2]],2:[[3,1],[2,0],[1,-1],[0,0],[-1,-1]],3:[[0,-2],[-1,-1],[-2,0],[-1,1],[-2,2]]},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rt(t,e)}(e,p),e}(),Lt=new R("#FF0000"),It=new q("#FF7F00"),Gt=new v("#FFFF00"),At=new g("#00FF00"),Kt=new x("#0000FF"),Ht=new A("#4b0082"),Nt=new V("#EE82EE"),Dt=new ht("#FF0000"),Vt=new wt("#FF7F00"),zt=new Pt("#FFFF00"),Ut=new $("#00FF00"),Xt=new rt("#0000FF"),Zt=new Tt("#4b0082"),qt=new Bt("#EE82EE"),Jt=new at("#9400D3"),Qt={classic:[Lt,It,Gt,At,Kt,Ht,Nt],pentris:[Dt,Vt,zt,Ut,Xt,Zt,qt,Jt],combo:[Lt,It,Gt,Ut,Xt,Zt,qt,Jt]},Wt=["#FF0000","#FF7F00","#FFFF00","#00FF00","#0000FF","#4b0082 ","#9400D3"];document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("play"),e=document.getElementById("classic"),n=document.getElementById("pentris"),i=document.getElementById("combo"),u=new s(Qt.classic,1,Wt),c=function(t){document.getElementsByClassName("selected")[0].className="game-selection-button",t.target.className="selected",r(Qt[t.target.id][0],"saved-piece"),r(Qt[t.target.id][4],"next-piece"),o(Qt[t.target.id])};t.addEventListener("click",function(t){var e=document.getElementById("play");if("Play"===e.innerText){var n=document.getElementsByClassName("selected")[0];(u=new s(Qt[n.id],1,Wt)).play(),e.innerText="Pause"}else u.pause()}),e.addEventListener("click",c),n.addEventListener("click",c),i.addEventListener("click",c),o(Qt.classic),r(Qt.classic[0],"saved-piece"),r(Qt.classic[4],"next-piece")})}]);
//# sourceMappingURL=bundle.js.map